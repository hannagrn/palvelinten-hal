# H3 - Komennus

Hanna Gröndahl

## Järjestelmätiedot

- Rauta: Asus Zenbook UX430UQ
    - Prosessori: Intel Core i7-7500U 
    - Muisti: 8 Gt DDR4
- OS: Debian GNU/Linux 11
- Kernel: Linux 5.10.0-20-amd64

## a) 

Teen tässä osiossa pienen skirptin bashilla ja laitan sen kaikkien käyttäjien käytettäväksi.

Aloitin luomalla hello-skriptitiedoston hakemistoon /home/hanna/scripts/bash (säilöin siellä bash-skriptejä jo ennestään) komennolla `micro hello`. Skripti tervehtii kirjautunutta käyttäjää, tulostaa kovakoodatun motivaatiolauseen ja vielä päivämäärän. 

    #!/bin/bash
    echo "Hello" $(whoami)
    echo "Darkness must pass; a new day will come, and when the sun shines, it will shine out the clearer. (J.R.R. Tolkien)"
    echo $(date)

Tarkistin tiedostoon liittyvät oikeudet `ls -l`

    -rw-r--r-- 1 hanna hanna   99 23. 4. 14:45 hello

Tiedostolla ei ole suoritusoikeuksia, sillä alun rimpsussa on vain readia (r) ja writeä (w). Lisään tiedostoon kaikille käyttäjille x- eli execute-oikeudet `chmod ugo+x hello`. Tarkistin taas `ls -l`

    -rwxr-xr-x 1 hanna hanna   99 23. 4. 14:45 hello
    
Testasin skriptin omassa hakemistossaan `./hello` Sain tulostuksen

    Hello hanna
    Darkness must pass; a new day will come, and when the sun shines, it will shine out the clearer. (J.R.R. Tolkien)
    su 23.4.2023 14.50.22 +0300

Eli skripti toimii odotetusti. Viedäkseni sen muiden käyttäjien saataville, tein siitä kopion `sudo cp hello /usr/local/bin/`. Siirryin kotihakemistoon testatakseni komentoa `hello`. Sain testiä vastaavan tulostuksen. Loin vielä uuden käyttäjän `sudo adduser hannatest1`, annoin sille turvallisen salasanan ja siirryin käyttäjään `su hannatest1`. Tein hannatest1:n kotihakemistossa testin ajamalla `hello`-komennon.

    Hello hannatest1
    Darkness must pass; a new day will come, and when the sun shines, it will shine out the clearer. (J.R.R. Tolkien)
    su 23.4.2023 14.58.08 +0300

Komento toimi, koska komento suoritettiin ja se tulosti oikean käyttäjän ja ajan. 

## b)

Tässä osiossa tein yksinkertaisen Python-komennon.

Siirryin aiemmin tekemääni Python-skriptikansioon /home/hanna/scripts/python ja aloitin uuden komennon tekemisen `micro helloagain`. Helloagain tervehtii käyttäjää ja tulostaa kovakoodatun motivaatiolauseen:

    #!/usr/bin/python3

    import os

    print("Hello", os.getlogin())
    print("You are like a lantern swathed and covered, hidden away in a dark place. Yet the light shines; they could not put out the light. They could not hide you. (Ursula K. Le Guin)")

Lisäsin tiedostolle suoritusoikeudet `chmod ugo+x helloagain`. Kokeilin komentoa `./helloagain`. Sain odotetun tulostuksen:

    Hello hanna
    You are like a lantern swathed and covered, hidden away in a dark place. Yet the light shines; they could not put out the light. They could not hide you. (Ursula K. Le Guin)

Kopioin komennon kaikkien käytettäväksi `sudo cp helloagain /usr/local/bin/`. Kokeilin komentoa `helloagain` ja sain saman tulostuksen kuin aiemmin. Siirryin käyttäjälle hannatest1 `su hannatest1` ja kokeilin komentoa käyttäjän kotihakemistossa. Sain täsmälleen saman tulostuksen aiemmin, eli os.getlogin() ei selvästikään ole sama kuin whoami, sillä nimi ensimmäisellä rivillä ei vaihtunut.
